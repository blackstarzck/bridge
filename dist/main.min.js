(()=>{"use strict";var t,e={8156:(t,e,n)=>{n(2351),n(8339),n(9327),n(9886),n(187),n(4204),n(1346),n(6374),n(4711),n(2067),n(7873),n(9927),n(5648),n(1021);var o=n(6626),r=n(6753),i=n(1045),a={scene:new r.Z58,gltfLoader:new i.B,mixer:void 0,world:new o.HK,defaultMaterial:new o.im("default"),glassMaterial:new o.im("glass"),playerMaterial:new o.im("player")},c={step:0,backgroundColor:"#3E1322",lightColor:"#FFE9AC",lightOffColor:"#222",pillarColor:"#071D28",floorColor:"#111",barColor:"#441C1D",glassColor:"#9FDFFF"},u={pillar:new r.iNn(5,10,5),floor:new r.iNn(200,1,200),bar:new r.iNn(.1,.3,25.2),sideLight:new r.Gu$(.1,6,6),glass:new r.iNn(1.2,.05,1.2)},s={pillar:new r.tXL({color:c.pillarColor}),floor:new r.tXL({color:c.floorColor}),bar:new r.tXL({color:c.barColor}),sideLight:new r.tXL({color:c.lightColor}),glass1:new r.tXL({color:c.glassColor,transparent:!0,opacity:.1}),glass2:new r.tXL({color:c.glassColor,transparent:!0,opacity:.1})},l=new Audio;l.src="./sounds/Crash.mp3";var f=new Audio;f.src="./sounds/Wood Hit Metal Crash.mp3";var p={normal:l,strong:f},y=n(3580),m=n(1997);n(1144),n(6008),n(2888),n(9399),n(5629);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,b(o.key),o)}}function b(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}var v=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.rotationX=e.rotationX||0,this.rotationY=e.rotationY||0,this.rotationZ=e.rotationZ||0,this.mass=e.mass||0,this.cannonMaterial=e.cannonMaterial||a.defaultMaterial},(e=[{key:"setCannonBody",value:function(){var t=this.cannonMaterial,e=new o.az(new o.eB(this.width/2,this.height/2,this.depth/2));this.cannonBody=new o.nB({mass:this.mass,position:new o.eB(this.x,this.y,this.z),shape:e,material:t}),this.cannonBody.quaternion.setFromAxisAngle(new o.eB(0,1,0),this.rotationY),a.world.addBody(this.cannonBody)}}])&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,O(o.key),o)}}function O(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=w(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function j(t,e,n){return e=P(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,S()?Reflect.construct(e,n||[],P(t).constructor):e.apply(t,n))}function S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(S=function(){return!!t})()}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}var x=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=j(this,e,[t])).geometry=u.pillar,n.material=s.pillar,n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new r.eaF(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.castShadow=!0,n.mesh.receiveShadow=!0,a.scene.add(n.mesh),n.setCannonBody(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),n=e,o&&g(n.prototype,o),i&&g(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(v);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_(o.key),o)}}function _(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function B(t,e,n){return e=z(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,T()?Reflect.construct(e,n||[],z(t).constructor):e.apply(t,n))}function T(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(T=function(){return!!t})()}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}var A=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=B(this,e,[t])).geometry=u.floor,n.material=s.floor,n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new r.eaF(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.receiveShadow=!0,a.scene.add(n.mesh),n.setCannonBody(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(e,t),n=e,o&&C(n.prototype,o),i&&C(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(v);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function R(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,F(o.key),o)}}function F(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=L(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:e+""}function N(t,e,n){return e=X(e),function(t,e){if(e&&("object"==L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,D()?Reflect.construct(e,n||[],X(t).constructor):e.apply(t,n))}function D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(D=function(){return!!t})()}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}var q=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=N(this,e,[t])).geometry=u.bar,n.material=s.bar,n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new r.eaF(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.receiveShadow=!0,a.scene.add(n.mesh),n.setCannonBody(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(e,t),n=e,o&&R(n.prototype,o),i&&R(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(v);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function I(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,W(o.key),o)}}function W(t){var e=function(t,e){if("object"!=H(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=H(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==H(e)?e:e+""}var Q=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.z=e.z||0;var n=e.container||a.scene;this.geometry=u.sideLight,this.material=s.sideLight,this.mesh=new r.eaF(this.geometry,this.material),this.mesh.position.set(this.x,this.y,this.z),n.add(this.mesh)},(e=[{key:"turnOff",value:function(){this.mesh.material.color.set(c.lightOffColor)}}])&&I(t.prototype,e),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function $(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,G(o.key),o)}}function G(t){var e=function(t,e){if("object"!=Z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=Z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Z(e)?e:e+""}function J(t,e,n){return e=U(e),function(t,e){if(e&&("object"==Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,K()?Reflect.construct(e,n||[],U(t).constructor):e.apply(t,n))}function K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(K=function(){return!!t})()}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}var tt=function(t){function e(t){var n;switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=J(this,e,[t])).type=t.type,n.step=t.step,n.type){case"normal":n.material=s.glass1,n.mass=1;break;case"strong":n.material=s.glass2,n.mass=0}n.geometry=u.glass,n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new r.eaF(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.castShadow=!0,n.mesh.receiveShadow=!0,n.mesh.name=n.name,n.mesh.step=n.step,n.mesh.type=n.type,a.scene.add(n.mesh),n.setCannonBody(),n.cannonBody.addEventListener("collide",(function(t){var e=t.contact.getImpactVelocityAlongNormal();e>6&&e<7&&(o.currentTime=0,o.play())}));var o=p[n.type];return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(e,t),n=e,o&&$(n.prototype,o),i&&$(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(v);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,ot(o.key),o)}}function ot(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=et(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==et(e)?e:e+""}function rt(t,e,n){return e=at(e),function(t,e){if(e&&("object"==et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,it()?Reflect.construct(e,n||[],at(t).constructor):e.apply(t,n))}function it(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(it=function(){return!!t})()}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}var ut=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=rt(this,e,[t])).width=.5,n.height=.5,n.depth=.5,a.gltfLoader.load("./models/ilbuni.glb",(function(t){t.scene.traverse((function(t){t.isMesh&&(t.castShadow=!0)})),n.modelMesh=t.scene.children[0],n.modelMesh.position.set(n.x,n.y,n.z),n.modelMesh.rotation.set(n.rotationX,n.rotationY,n.rotationZ),a.scene.add(n.modelMesh),n.modelMesh.castShadow=!0,n.modelMesh.animations=t.animations,a.mixer=new r.Iw4(n.modelMesh),n.actions=[],n.actions[0]=a.mixer.clipAction(n.modelMesh.animations[0]),n.actions[1]=a.mixer.clipAction(n.modelMesh.animations[1]),n.actions[2]=a.mixer.clipAction(n.modelMesh.animations[2]),n.actions[2].repetitions=1,n.actions[0].play(),n.setCannonBody()})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(e,t),n=e,o&&nt(n.prototype,o),i&&nt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(v);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,pt(o.key),o)}}function ft(t,e,n){return e&&lt(t.prototype,e),n&&lt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pt(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=st(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}var yt=ft((function t(e){var n,o,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mouseMoved,e.addEventListener("mousedown",(function(t){n=t.clientX,o=t.clientY,r=Date.now()})),e.addEventListener("mouseup",(function(t){var e=Math.abs(t.clientX-n),a=Math.abs(t.clientY-o),c=Date.now()-r;i.mouseMoved=e>5||a>5||c>500}))}));function mt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return dt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}var ht=document.querySelector("#three-canvas"),bt=new r.JeP({canvas:ht,antialias:!0});bt.setSize(window.innerWidth,window.innerHeight),bt.setPixelRatio(window.devicePixelRatio>1?2:1),bt.shadowMap.enabled=!0,bt.shadowMap.type=r.Wk7,a.scene.background=new r.Q1f(c.backgroundColor);var vt=new r.ubm(75,window.innerWidth/window.innerHeight,.1,1e3),wt=vt.clone();vt.position.x=-4,vt.position.y=19,vt.position.z=14,wt.position.y=0,wt.lookAt(0,1,0),a.scene.add(vt,wt);var gt=new r.$p8(c.lightColor,.8);a.scene.add(gt);var Ot=50,jt=new r.nCl(c.lightColor,5e4);jt.castShadow=!0,jt.shadow.mapSize.width=2048,jt.shadow.mapSize.height=2048;var St=jt.clone(),Pt=jt.clone(),Mt=jt.clone();jt.position.set(-50,Ot,Ot),St.position.set(Ot,Ot,Ot),Pt.position.set(-50,Ot,-50),Mt.position.set(Ot,Ot,-50),a.scene.add(jt,St,Pt,Mt);var xt=new y.N(vt,bt.domElement);xt.enableDamping=!0,a.world.gravity.set(0,-9.82,0);var Et=new o.QE(a.defaultMaterial,a.defaultMaterial,{friction:.3,restitution:.2}),Ct=new o.QE(a.glassMaterial,a.defaultMaterial,{friction:1,restitution:0}),_t=new o.QE(a.playerMaterial,a.glassMaterial,{friction:1,restitution:0});a.world.defaultContactMaterial=Et,a.world.addContactMaterial(Ct),a.world.addContactMaterial(_t);var Bt=1.2,Tt=10,zt=[],kt=(new A({name:"floor"}),new x({name:"pillar",x:0,y:5.5,z:12*-1.2-.6})),At=new x({name:"pillar",x:0,y:5.5,z:14.999999999999998});zt.push(kt,At);for(var Lt=new q({name:"bar1",x:-1.6,y:10.3,z:0}),Rt=(new q({name:"bar2",x:-.4,y:10.3,z:0}),new q({name:"bar3",x:.4,y:10.3,z:0}),new q({name:"bar4",x:1.6,y:10.3,z:0})),Ft=[],Nt=0;Nt<49;Nt++)Ft.push(new Q({name:"sideLight",container:Lt.mesh,z:.5*Nt-12}));for(var Dt=0;Dt<49;Dt++)Ft.push(new Q({name:"sideLight",container:Rt.mesh,z:.5*Dt-12}));for(var Xt=[],Yt=[],qt=0;qt<Tt;qt++)Yt.push(-(qt*Bt*2-9*Bt));for(var Ht=0;Ht<Tt;Ht++){switch(Math.round(Math.random())){case 0:Xt=["normal","strong"];break;case 1:Xt=["strong","normal"]}var It=new tt({step:Ht+1,name:"glass-".concat(Xt[0]),x:-1,y:10.5,z:Yt[Ht],type:Xt[0],cannonMaterial:a.glassMaterial}),Wt=new tt({step:Ht+1,name:"glass-".concat(Xt[1]),x:1,y:10.5,z:Yt[Ht],type:Xt[1],cannonMaterial:a.glassMaterial});zt.push(It,Wt)}var Qt=new ut({name:"player",x:0,y:10.9,z:13,rotationY:Math.PI,cannonMaterial:a.playerMaterial,mass:30});zt.push(Qt);var Zt=new r.tBo,$t=new r.I9Y;var Gt=!1,Jt=!1,Kt=!1;function Ut(t){if(t.name.includes("glass")){if(Jt||Gt)return;if(t.step-1===c.step){if(Qt.actions[2].stop(),Qt.actions[2].play(),Jt=!0,c.step++,"normal"===t.type)Gt=!0,setTimeout((function(){Qt.actions[0].stop(),Qt.actions[1].play(),Ft.forEach((function(t){return t.turnOff()})),setTimeout((function(){Kt=!0,Qt.cannonBody.position.y=9,setTimeout((function(){Kt=!1}),3e3)}))}),2e3);setTimeout((function(){return Jt=!1}),1e3),m.Ay.to(Qt.cannonBody.position,{duration:1,x:t.position.x,z:Yt[c.step-1]}),m.Ay.to(Qt.cannonBody.position,{duration:.4,y:12}),c.step===Tt&&"strong"===t.type&&setTimeout((function(){Qt.actions[2].stop(),Qt.actions[2].play(),m.Ay.to(Qt.cannonBody.position,{duration:1,x:0,z:-14}),m.Ay.to(Qt.cannonBody.position,{duration:.4,y:12})}),1500)}}}var Vt=new r.zD7;var te=new yt(ht);window.addEventListener("resize",(function(){vt.aspect=window.innerWidth/window.innerHeight,vt.updateProjectionMatrix(),bt.setSize(window.innerWidth,window.innerHeight),bt.render(a.scene,vt)})),ht.addEventListener("click",(function(t){te.mouseMoved||($t.x=t.clientX/ht.clientWidth*2-1,$t.y=-t.clientY/ht.clientHeight*2+1,function(){Zt.setFromCamera($t,vt);var t,e=mt(Zt.intersectObjects(a.scene.children,!0));try{for(e.s();!(t=e.n()).done;){Ut(t.value.object);break}}catch(t){e.e(t)}finally{e.f()}}())})),function t(){var e,n=Vt.getDelta();null===(e=a.mixer)||void 0===e||e.update(n),a.world.step(1/60,n,3),zt.forEach((function(t){t.cannonBody&&("player"===t.name?(t.modelMesh&&(t.modelMesh.position.copy(t.cannonBody.position),Gt&&t.modelMesh.quaternion.copy(t.cannonBody.quaternion)),t.modelMesh.position.y+=.15):(t.mesh.position.copy(t.cannonBody.position),t.mesh.quaternion.copy(t.cannonBody.quaternion),t.modelMesh&&(t.modelMesh.position.copy(t.cannonBody.position),t.modelMesh.quaternion.copy(t.cannonBody.quaternion))))})),xt.update(),Kt?(bt.render(a.scene,wt),wt.position.x=Qt.cannonBody.position.x,wt.position.z=Qt.cannonBody.position.z):bt.render(a.scene,vt),bt.setAnimationLoop(t)}()}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.m=e,t=[],o.O=(e,n,r,i)=>{if(!n){var a=1/0;for(l=0;l<t.length;l++){for(var[n,r,i]=t[l],c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(o.O).every((t=>o.O[t](n[u])))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){t.splice(l--,1);var s=r();void 0!==s&&(e=s)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,r,i]},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={792:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var r,i,[a,c,u]=n,s=0;if(a.some((e=>0!==t[e]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(u)var l=u(o)}for(e&&e(n);s<a.length;s++)i=a[s],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(l)},n=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var r=o.O(void 0,[217],(()=>o(8156)));r=o.O(r)})();